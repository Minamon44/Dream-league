{% extends "user_dashboard.html" %}
{% block user_content %}

<div class="mb-4">
    <h2 class="font-weight-bold mb-1">âš½ Matches</h2>
    <p class="text-muted mb-0">Match results and fixtures by league, team and round</p>
</div>

<form method="get" action="{{ url_for('user.user_matches') }}" class="mb-4">
    <div class="row">

        <div class="col-md-4 mb-2">
            <label class="small text-muted">League</label>
            <select name="league_id" class="form-control">
                <option value="">All Leagues</option>
                {% for league in leagues %}
                    <option value="{{ league[0] }}"
                        {% if request.args.get('league_id') == str(league[0]) %}selected{% endif %}>
                        {{ league[1] }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="col-md-4 mb-2">
            <label class="small text-muted">Team</label>
            <select name="team_id" class="form-control">
                <option value="">All Teams</option>
                {% for team in teams %}
                    <option value="{{ team[0] }}"
                        {% if request.args.get('team_id') == str(team[0]) %}selected{% endif %}>
                        {{ team[1] }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="col-md-4 mb-2">
            <label class="small text-muted">Round</label>
            <select name="matchday" class="form-control">
                <option value="">All Rounds</option>
                {% for r in range(1, 39) %}
                    <option value="{{ r }}"
                        {% if request.args.get('matchday') == str(r) %}selected{% endif %}>
                        Round {{ r }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="col-md-12 mt-2">
            <button class="btn btn-success btn-block">
                <i class="fa fa-filter"></i> Apply Filters
            </button>
        </div>

    </div>
</form>

<div class="matches-list">

    {% for match in matches %}
    <a href="{{ url_for('user.profile_match', match_id=match[0]) }}"
       class="match-card">

        <div class="match-meta">
            <span>{{ match[5] }}</span>
            <span>Round {{ match[8] }}</span>
        </div>

        <div class="match-row">

            <div class="team">
                <img src="{{ match[6] }}" alt="{{ match[1] }} logo">
                <span>{{ match[1] }}</span>
            </div>

            <div class="score-box">
                {{ match[3] }} - {{ match[4] }}
            </div>

            <div class="team">
                <span>{{ match[2] }}</span>
                <img src="{{ match[7] }}" alt="{{ match[2] }} logo">
            </div>

        </div>

    </a>
    {% endfor %}

</div>

<style>
.matches-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.match-card {
    background: linear-gradient(135deg, #111827, #1f2933);
    color: #fff;
    padding: 18px 22px;
    border-radius: 18px;
    text-decoration: none;
    box-shadow: 0 15px 35px rgba(0,0,0,.25);
    transition: all .35s ease;
}

.match-card:hover {
    transform: scale(1.02) translateY(-4px);
    box-shadow: 0 25px 50px rgba(0,0,0,.35);
    color: #fff;
}

.match-meta {
    display: flex;
    justify-content: space-between;
    font-size: 13px;
    color: #9ca3af;
    margin-bottom: 10px;
}

.match-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.team {
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 600;
}

.team img {
    height: 36px;
}

.score-box {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    padding: 8px 18px;
    border-radius: 14px;
    font-weight: 800;
    font-size: 18px;
    box-shadow: 0 10px 25px rgba(34,197,94,.4);
}
</style>

{% endblock %}
